<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador Socket.IO en TypeScript</title>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <h1>Contador Socket.IO Personalizado</h1>
    <div>
        <span>Contador: <span id="counter">0</span></span>
    </div>
    <button id="incrementButton">Incrementar</button>

    <script>
        const counterDisplay = document.getElementById('counter');
        const incrementButton = document.getElementById('incrementButton');

        // Conectar al servidor Socket.IO
        const socket = io();

        // Manejar la inicialización del contador
        socket.on('init', (count) => {
            counterDisplay.textContent = count; // Establecer el contador inicial
        });

        // Actualizar el contador cuando se recibe la actualización
        socket.on('update', (count) => {
            counterDisplay.textContent = count; // Actualizar el contador en la UI
        });

        // Enviar mensaje para incrementar el contador
        incrementButton.addEventListener('click', () => {
            socket.emit('increment'); // Emitir evento de incremento
        });
    </script>
</body>
</html>